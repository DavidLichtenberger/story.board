= simple_form_for @trigger do |f|
  = f.error_notification

  .form-inputs
    = f.association :report, :as => :hidden, :input_html => {:value => @report_id }
    .row
      .col-md-6
        = f.input :name
      .col-md-6
        = f.input :trigger_group, collection: ['Not implemented'], prompt: "Select trigger group", selected: 21
    .row
      .col-md-12.bottom
        %h3 Sensor conditions
        #conditions
          = f.simple_fields_for :conditions do |condition|
            = render 'condition_fields', f: condition
        .links
          = link_to_add_association button_tag('add condition', type: 'button', class: 'btn btn-primary link-to-add-association'), f, :conditions
    .row
      .col-md-6
        = f.input :timeliness_constraint, hint: "Text component will be triggered for sensor readings within the last X hours", input_html: {'data-slider-id' => 'slider-single',
          'data-provide' => "slider",
         'data-slider-min'=>"0",
         'data-slider-max'=>"10",
         'data-slider-step'=>"1",
         'data-slider-value'=>"6",
         'data-slider-tooltip'=>"always" }
      .col-md-6
        = f.input :priority, collection: Trigger.priorities.keys, include_blank: false
    #events
      = f.association :events, as: :check_boxes, label_method: :name_and_id
    #text_components
      = f.association :text_components, label_method: :heading

  .form-actions
    %p
    = f.submit





